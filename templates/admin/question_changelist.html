{% extends "admin/import_export/change_list.html" %} {% block object-tools %} {#
1. Render the standard Django/Import-Export buttons first #} {{ block.super }}
{# 2. Use JavaScript to cleanly inject our AI button into the existing list #}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Find the button container
    var toolsList = document.querySelector("ul.object-tools");

    if (toolsList) {
      // Create the new list item
      var newLi = document.createElement("li");

      // Create the link
      var newLink = document.createElement("a");
      newLink.href = "generate-ai/";
      newLink.className = "addlink";
      newLink.style.backgroundColor = "#6366f1"; // Indigo-500
      newLink.style.color = "white";
      newLink.innerText = "âœ¨ Generate with AI";

      newLi.appendChild(newLink);

      // Add it to the start of the list
      toolsList.insertBefore(newLi, toolsList.firstChild);
    }
  });
</script>
{% endblock %}
